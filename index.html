<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Sabka Bazar</title>
    <link rel="stylesheet" href="./styles.scss" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
</head>

<body>

    <section class='home-section router-content'>

        <div class='product-section' id='product-section'>
            <script id="entry-template" type="text/x-handlebars-template">
                {{#each people}}
                <div>
                    {{firstName}} {{lastName}}
                </div>
                {{/each}}
            </script>
        </div>

    </section>

    <script>
        $(document).ready(function() {
            // let products = []
            // fetch("http://localhost:3200/getProducts").then(r => r.json()).then(data => {
            // products = data;
            // createHTML({products: data});
            // });

            var data = [{
                id: 1,
                firstName: "Anthony",
                lastName: "Nelson"
            }, {
                id: 2,
                firstName: "Helen",
                lastName: "Garcia"
            }, {
                id: 3,
                firstName: "John",
                lastName: "Williams"
            }];
            createHTML(data);

            function createHTML(data) {
                debugger
                let rawTemplate = document.getElementById("entry-template").innerHTML;
                let compiledTemplate = Handlebars.compile(rawTemplate);
                // let generatedHTML = compiledTemplate(data);
                document.getElementById("product-section").innerHTML = compiledTemplate({
                    people: data,
                    name: 'Srinivas'
                });
            }
        });
    </script>
</body>

</html>